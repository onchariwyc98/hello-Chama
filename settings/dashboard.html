<div class="container-fluid">
  <h3 class="fw-bold text-success mb-3">
    <i class="bi bi-speedometer2 me-2"></i>
    Welcome, <span id="userNameDisplay">User</span>!
  </h3>

  <!-- Single-step progress bar -->
  <div class="mb-3">
    <div class="progress" style="height:10px; border-radius:5px;">
      <div id="stepProgressBar" class="progress-bar" role="progressbar" style="width:0%; transition: width 0.5s;"></div>
    </div>
  </div>

  <div class="alert alert-info">
    <p>Minimum steps to get started:</p>
    <ul>
      <li>Create and update your <strong>profile</strong>.</li>
      <li>Set up your first <strong>group</strong>.</li>
      <li>Optionally, configure basic <strong>modules</strong>.</li>
    </ul>
    <button id="getStartedBtn" class="btn btn-success mt-2">
      <i class="bi bi-play-fill me-2"></i>Get Started
    </button>
  </div>

  <div id="contentContainer" class="mt-4"></div>
</div>

<script>
const userNameDisplay = document.getElementById("userNameDisplay");
const getStartedBtn = document.getElementById("getStartedBtn");
const contentContainer = document.getElementById("contentContainer");
const stepProgressBar = document.getElementById("stepProgressBar");

// Display user name
userNameDisplay.textContent = sessionStorage.getItem("fullName") || "User";

// Load content dynamically
async function loadContent(url, step) {
  try {
    const res = await fetch(url);
    if (!res.ok) throw new Error('Failed to load');
    const html = await res.text();
    contentContainer.innerHTML = html;
    contentContainer.scrollIntoView({ behavior: "smooth" });

    // Update progress bar
    switch(step){
      case 1:
        stepProgressBar.style.width = "33%";
        stepProgressBar.className = "progress-bar bg-info";
        break;
      case 2:
        stepProgressBar.style.width = "66%";
        stepProgressBar.className = "progress-bar bg-warning";
        break;
      case 3:
        stepProgressBar.style.width = "100%";
        stepProgressBar.className = "progress-bar bg-success";
        break;
    }
  } catch(err) {
    contentContainer.innerHTML = `<div class="alert alert-danger">Failed to load ${url}</div>`;
    console.error(err);
  }
}

// Get Started button â†’ Load group.html and update progress
getStartedBtn.addEventListener("click", () => {
  loadContent('group.html', 1);
});
</script>
