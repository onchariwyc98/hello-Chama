<h3 class="fw-bold text-success mb-3">Group Setup</h3>

<!-- 1. Basic Group Details -->
<div class="mb-3">
  <button class="btn btn-success w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#basicGroupCollapse" aria-expanded="true">
    Basic Group Details
  </button>
  <div class="collapse show mt-2" id="basicGroupCollapse">
    <form id="basicGroupForm" class="row g-3 p-3 border rounded">
      <div class="col-md-4 col-12">
        <label for="groupName" class="form-label">Group / Chama Name</label>
        <input type="text" class="form-control" id="groupName" placeholder="Enter group name" required>
      </div>
      <div class="col-md-4 col-12">
        <label for="groupType" class="form-label">Group Type</label>
        <select id="groupType" class="form-select">
          <option value="Savings">Savings</option>
          <option value="Welfare">Welfare</option>
          <option value="Investment">Investment</option>
          <option value="Loans">Loans</option>
          <option value="MerryGoRound">Merry-Go-Round</option>
        </select>
      </div>
      <div class="col-md-4 col-12">
        <label for="groupStartDate" class="form-label">Start Date / Formation Date</label>
        <input type="date" class="form-control" id="groupStartDate" required>
      </div>
      <div class="col-12">
        <label for="groupDescription" class="form-label">Purpose / Description</label>
        <textarea class="form-control" id="groupDescription" rows="2" placeholder="Briefly describe the group"></textarea>
      </div>
      <div class="col-md-4 col-12">
        <label for="groupCode" class="form-label">Group Code / ID</label>
        <input type="text" class="form-control" id="groupCode" readonly placeholder="Auto-generated">
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-success w-100">Save Basic Details & Continue</button>
      </div>
    </form>
  </div>
</div>

<!-- Membership Details -->
<div class="mb-3">
  <button class="btn btn-success w-100 text-start" type="button" data-bs-toggle="collapse" data-bs-target="#membershipCollapse" aria-expanded="false">
    Membership Details
  </button>
  <div class="collapse mt-2" id="membershipCollapse">
    <form id="membershipForm" class="row g-3 p-3 border rounded">
      <div class="col-md-4 col-12">
        <label for="maxMembers" class="form-label">Number of Members</label>
        <input type="number" class="form-control" id="maxMembers" placeholder="Max allowed" min="1">
      </div>
      <div class="col-md-4 col-12">
        <label for="memberRoles" class="form-label">Member Roles</label>
        <input type="text" class="form-control" id="memberRoles" placeholder="Chairperson, Treasurer, Secretary, Member">
      </div>
      <div class="col-md-4 col-12">
        <label for="membershipRules" class="form-label">Membership Rules</label>
        <input type="text" class="form-control" id="membershipRules" placeholder="Eligibility criteria / joining conditions">
      </div>
      <div class="col-md-4 col-12">
        <label for="contributionAmount" class="form-label">Contribution Amount</label>
        <input type="number" class="form-control" id="contributionAmount" placeholder="Minimum / mandatory contribution">
      </div>
      <div class="col-md-4 col-12">
        <label for="contributionFrequency" class="form-label">Contribution Frequency</label>
        <select id="contributionFrequency" class="form-select">
          <option value="Weekly">Weekly</option>
          <option value="Monthly">Monthly</option>
          <option value="Quarterly">Quarterly</option>
        </select>
      </div>
      <div class="col-12">
        <button type="submit" class="btn btn-success w-100">Save Membership & Continue</button>
      </div>
    </form>
  </div>
</div>

<!-- Add Financial, Meetings, Governance sections similarly -->

<script>
  const groupCodeInput = document.getElementById('groupCode');
  const basicGroupForm = document.getElementById('basicGroupForm');

  function generateGroupCode() {
    return 'CHAMA-' + Math.floor(1000 + Math.random() * 9000);
  }

  basicGroupForm.addEventListener('submit', (e) => {
    e.preventDefault();
    if (!groupCodeInput.value) groupCodeInput.value = generateGroupCode();
    alert('Basic Group Details saved successfully!');

    // Call main dashboard function to load next step
    if (typeof groupCompleted === "function") groupCompleted(); // triggers modules setup
  });
</script>
