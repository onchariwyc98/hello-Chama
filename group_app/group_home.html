<h4 class="text-success fw-bold mb-3"><i class="bi bi-list-check me-2"></i>Step 2: Select Activities</h4>

<p class="fw-bold">Tap the activities your group will do:</p>

<form id="activitiesForm" class="row g-3">

     <div class="col-6 col-sm-4 col-md-3">
    <div class="card activity-card text-center p-3" data-value="Welfare">
      <i class="bi bi-heart fs-3 mb-2"></i>
      <div class="fw-bold">Welfare</div>
      <small>Support members</small>
    </div>
  </div>

  <!-- Activity Cards -->
  <div class="col-6 col-sm-4 col-md-3">
    <div class="card activity-card text-center p-3" data-value="Savings">
      <i class="bi bi-wallet2 fs-3 mb-2"></i>
      <div class="fw-bold">Savings</div>
      <small>Keep money safe</small>
    </div>
  </div>

  <div class="col-6 col-sm-4 col-md-3">
    <div class="card activity-card text-center p-3" data-value="Merry-Go-Round">
      <i class="bi bi-arrow-repeat fs-3 mb-2"></i>
      <div class="fw-bold">Merry-Go-Round</div>
      <small>Rotate contributions</small>
    </div>
  </div>

  <div class="col-6 col-sm-4 col-md-3">
    <div class="card activity-card text-center p-3" data-value="Loans">
      <i class="bi bi-cash-stack fs-3 mb-2"></i>
      <div class="fw-bold">Loans</div>
      <small>Borrow or lend</small>
    </div>
  </div>

  

  <div class="col-6 col-sm-4 col-md-3">
    <div class="card activity-card text-center p-3" data-value="Shares">
      <i class="bi bi-bar-chart fs-3 mb-2"></i>
      <div class="fw-bold">Investment</div>
      <small>Invest together</small>
    </div>
  </div>

  <div class="col-6 col-sm-4 col-md-3">
    <div class="card activity-card text-center p-3" data-value="Shares">
      <i class="bi bi-bar-chart fs-3 mb-2"></i>
      <div class="fw-bold">Share</div>
      <small>Invest together</small>
    </div>
  </div>

 

  <div class="col-12 d-grid">
    <button type="submit" class="btn btn-success btn-lg mt-3">
      <i class="bi bi-check-circle me-2"></i>Save & Continue
    </button>
  </div>

</form>

<script>
(() => {
  const form = document.getElementById('activitiesForm');
  const cards = document.querySelectorAll('.activity-card');

  const onboardingData = JSON.parse(sessionStorage.getItem('onboardingData') || '{}');
  const selectedActivities = new Set(onboardingData.activities || []);

  // Pre-select previous activities
  cards.forEach(card => {
    if (selectedActivities.has(card.dataset.value)) {
      card.classList.add('bg-success', 'border-success', 'text-white');
    }
  });

  // Toggle selection
  cards.forEach(card => {
    card.addEventListener('click', () => {
      const value = card.dataset.value;
      if (selectedActivities.has(value)) {
        selectedActivities.delete(value);
        card.classList.remove('bg-success', 'border-success', 'text-white');
      } else {
        selectedActivities.add(value);
        card.classList.add('bg-success', 'border-success', 'text-white');
      }
    });
  });

  // Form submit
  form.addEventListener('submit', e => {
    e.preventDefault();
    if (selectedActivities.size === 0) {
      alert('Please select at least one activity!');
      return;
    }

    // Save to sessionStorage
    onboardingData.activities = Array.from(selectedActivities);
    sessionStorage.setItem('onboardingData', JSON.stringify(onboardingData));

    // Move to next step
    alert('Activities saved! Moving to next step.');
    // Example: loadStep('step3_billing.html', 3);
  });
})();
</script>

<style>
.activity-card {
  transition: transform 0.1s, box-shadow 0.2s;
  border: 2px solid #ccc;
  border-radius: 12px;
  cursor: pointer;
  padding: 1rem;
}
.activity-card:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.activity-card.bg-success {
  border-color: #28a745;
  background-color: #28a745;
  color: white;
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}
.activity-card small {
  display: block;
  font-size: 0.75rem;
  color: #333;
}
</style>
